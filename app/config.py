from pydantic_settings import BaseSettings, SettingsConfigDict
from app.logger_config import logger


class Settings(BaseSettings):
    model_config = SettingsConfigDict(
        env_file=".env", env_file_encoding="utf-8", case_sensitive=False
    )

    GEMINI_API_KEY: str
    BASE_URL: str = "https://fanfan.softium-deti.ru:820"

    PROMPT: str = """Сформируй короткий связный отчёт о прогрессе ребёнка.

Требования к стилю:
— Используй только уменьшенную форму имени ребёнка (например: Иван → Ваня, Анастасия → Настя, Тимофей → Тима).
— Не используй слова с корнем "учи": учиться, обучение, научился, изучение, обучился и любые производные.
— Не используй временные маркеры: сегодня, сейчас, недавно, затем, далее и подобные.
— Описывай не сами задания, а то, как ребёнок действовал: старался, проявлял интерес, разбирался, пробовал разные варианты, аккуратно выполнял шаги и т.п.
— Стиль должен быть простым и понятным для родителей, без сложных терминов и формальностей.
— Формат: 1 абзац, 1–2 коротких предложения, объём от 50 символов.
— Текст должен быть лёгким и живым, без официального тона.
— Не используй списки и не перечисляй задания по пунктам.
— Объедини смысл выполненной работы в одну понятную мысль.
— Не фокусируйся на темах урока, а на том, как ребёнок проявил навыки и подход.

Примеры стиля:
«Малик продолжил практиковаться в создании игр в Kodu Game Lab. Он разработал футбольную игру для двух игроков, реализовав управление для каждого игрока, а также создал карту уровня и логику победы и поражения, отражая применение игровых механик.»
«Марк продолжил создавать гонку в Kodu, настроил логику победы и поражения и успешно запрограммировал поведение соперников.»
«Кирилл активно создавал проекты в Kodu Game Lab, наделяя персонажей способностями к стрельбе и прыжкам. Он также изменял анимации при запуске игры и успешно справлялся с интерактивными заданиями, например, помогая зайке добраться до морковки.»

Используй данные ниже для формирования связного абзаца."""


settings = Settings()
logger.info("⚙️ Settings loaded successfully")
